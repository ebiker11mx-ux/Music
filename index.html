<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
      <title>JPEG ‚Üí PNG Converter</title>
        <meta name="description" content="Convert JPEG/JPG images to PNG instantly, right in your browser." />
          <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üñºÔ∏è</text></svg>">
            <style>
                :root{
                      --bg1:#0f1226; --bg2:#101a33; --accent:#7c5cff; --accent2:#00e0ff; --text:#eaf0ff; --muted:#9fb1d1; --card:rgba(255,255,255,0.08); --border:rgba(255,255,255,0.15);
                          }
                              *{box-sizing:border-box}
                                  html,body{height:100%}
                                      body{
                                            margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif; color:var(--text);
                                                  background: radial-gradient(1200px 500px at 20% 10%, #13204d 0%, var(--bg1) 40%, var(--bg2) 100%);
                                                        overflow-x:hidden;
                                                            }
                                                                .blob{
                                                                      position:fixed; inset:auto; width:45vmax; height:45vmax; border-radius:50%;
                                                                            filter:blur(60px); opacity:0.35; z-index:-1; animation: float 18s ease-in-out infinite;
                                                                                  background: conic-gradient(from 180deg, rgba(124,92,255,.55), rgba(0,224,255,.45), rgba(124,92,255,.55));
                                                                                      }
                                                                                          .blob.b2{ right:-10vmax; bottom:-10vmax; animation-duration:22s; opacity:0.28 }
                                                                                              @keyframes float{
                                                                                                    0%{ transform:translate(-5%, -3%) scale(1) }
                                                                                                          50%{ transform:translate(3%, 5%) scale(1.06) }
                                                                                                                100%{ transform:translate(-5%, -3%) scale(1) }
                                                                                                                    }

                                                                                                                        header{
                                                                                                                              padding:28px 24px; display:flex; justify-content:space-between; align-items:center;
                                                                                                                                    backdrop-filter:saturate(130%) blur(10px);
                                                                                                                                        }
                                                                                                                                            .logo{
                                                                                                                                                  display:flex; align-items:center; gap:12px; font-weight:700; letter-spacing:.3px;
                                                                                                                                                      }
                                                                                                                                                          .logo-badge{
                                                                                                                                                                width:36px; height:36px; border-radius:9px; display:grid; place-items:center;
                                                                                                                                                                      background: linear-gradient(135deg, var(--accent), var(--accent2));
                                                                                                                                                                            box-shadow: 0 6px 20px rgba(124,92,255,.3), 0 3px 14px rgba(0,224,255,.25);
                                                                                                                                                                                }
                                                                                                                                                                                    .cta{
                                                                                                                                                                                          display:inline-flex; align-items:center; gap:10px; padding:10px 16px; border-radius:10px;
                                                                                                                                                                                                border:1px solid var(--border); background:var(--card); color:var(--text); text-decoration:none;
                                                                                                                                                                                                    }
                                                                                                                                                                                                        .cta:hover{ border-color:rgba(124,92,255,.45) }

                                                                                                                                                                                                            main{ padding:32px 20px 64px; display:grid; place-items:center }
                                                                                                                                                                                                                .hero{
                                                                                                                                                                                                                      max-width:980px; width:100%; margin:10px auto 24px; text-align:center;
                                                                                                                                                                                                                          }
                                                                                                                                                                                                                              .title{
                                                                                                                                                                                                                                    font-size:clamp(28px, 5vw, 48px); line-height:1.1; margin:8px 0 8px;
                                                                                                                                                                                                                                          background:linear-gradient(90deg, var(--accent), var(--accent2));
                                                                                                                                                                                                                                                -webkit-background-clip:text; background-clip:text; color:transparent;
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                        .subtitle{ color:var(--muted); max-width:760px; margin:0 auto 24px }

                                                                                                                                                                                                                                                            .card{
                                                                                                                                                                                                                                                                  max-width:980px; width:100%; margin:0 auto; padding:20px;
                                                                                                                                                                                                                                                                        border:1px solid var(--border); border-radius:18px; background:var(--card);
                                                                                                                                                                                                                                                                              box-shadow: 0 10px 30px rgba(0,0,0,.35);
                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                      .grid{
                                                                                                                                                                                                                                                                                            display:grid; grid-template-columns:1fr; gap:16px;
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                    @media(min-width:900px){
                                                                                                                                                                                                                                                                                                          .grid{ grid-template-columns:1.2fr .8fr; }
                                                                                                                                                                                                                                                                                                              }

                                                                                                                                                                                                                                                                                                                  .dropzone{
                                                                                                                                                                                                                                                                                                                        position:relative; display:flex; align-items:center; justify-content:center; text-align:center;
                                                                                                                                                                                                                                                                                                                              min-height:220px; padding:22px; border:1.5px dashed rgba(124,92,255,.45);
                                                                                                                                                                                                                                                                                                                                    border-radius:16px; background:rgba(10,12,24,.35);
                                                                                                                                                                                                                                                                                                                                          transition:.2s ease;
                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                                  .dropzone:hover{ border-color:var(--accent2) }
                                                                                                                                                                                                                                                                                                                                                      .dropzone input{ position:absolute; inset:0; opacity:0; cursor:pointer }
                                                                                                                                                                                                                                                                                                                                                          .dz-inner{ pointer-events:none }
                                                                                                                                                                                                                                                                                                                                                              .dz-title{ font-weight:600 }
                                                                                                                                                                                                                                                                                                                                                                  .dz-help{ color:var(--muted); font-size:.95rem }

                                                                                                                                                                                                                                                                                                                                                                      .actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:14px }
                                                                                                                                                                                                                                                                                                                                                                          .btn{
                                                                                                                                                                                                                                                                                                                                                                                padding:12px 16px; border-radius:12px; border:1px solid var(--border);
                                                                                                                                                                                                                                                                                                                                                                                      background:linear-gradient(135deg, rgba(124,92,255,.25), rgba(0,224,255,.18));
                                                                                                                                                                                                                                                                                                                                                                                            color:var(--text); cursor:pointer; font-weight:600;
                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                    .btn:disabled{ opacity:.55; cursor:not-allowed }
                                                                                                                                                                                                                                                                                                                                                                                                        .btn.primary{
                                                                                                                                                                                                                                                                                                                                                                                                              background:linear-gradient(135deg, var(--accent), var(--accent2));
                                                                                                                                                                                                                                                                                                                                                                                                                    box-shadow: 0 8px 24px rgba(124,92,255,.35), 0 6px 18px rgba(0,224,255,.28);
                                                                                                                                                                                                                                                                                                                                                                                                                          border-color:transparent;
                                                                                                                                                                                                                                                                                                                                                                                                                              }

                                                                                                                                                                                                                                                                                                                                                                                                                                  .panel{
                                                                                                                                                                                                                                                                                                                                                                                                                                        border:1px solid var(--border); border-radius:16px; padding:16px; background:rgba(10,12,24,.35);
                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                .panel h3{ margin:4px 0 12px; font-size:1rem; color:var(--muted) }

                                                                                                                                                                                                                                                                                                                                                                                                                                                    .list{ display:grid; grid-template-columns:repeat(auto-fill, minmax(160px, 1fr)); gap:12px }
                                                                                                                                                                                                                                                                                                                                                                                                                                                        .item{
                                                                                                                                                                                                                                                                                                                                                                                                                                                              border:1px solid var(--border); border-radius:14px; overflow:hidden; background:rgba(255,255,255,.05);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                      .thumb{ width:100%; aspect-ratio:1/1; background:#0c1224; display:grid; place-items:center }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                          .thumb img{ max-width:100%; max-height:100%; object-fit:contain }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                              .meta{ padding:10px }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  .name{ font-size:.9rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      .meta small{ color:var(--muted) }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          .dl{
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                display:inline-flex; align-items:center; gap:8px; margin-top:8px; padding:8px 10px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      border-radius:10px; border:1px solid var(--border); background:rgba(124,92,255,.12);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            color:var(--text); text-decoration:none; font-weight:600;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    footer{
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          padding:34px 20px; text-align:center; color:var(--muted)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  .note{ font-size:.9rem }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      .kbd{
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            border:1px solid var(--border); background:rgba(255,255,255,.06); border-radius:6px;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  padding:2px 6px; font-family:ui-monospace, SFMono-Regular, Menlo, monospace;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </style>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </head>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <div class="blob"></div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <div class="blob b2"></div>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <header>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <div class="logo">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div class="logo-badge">üñºÔ∏è</div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <div>JPEG ‚Üí PNG</div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <a class="cta" href="#" onclick="alert('Client-side only. Deploy anywhere: Vercel, Netlify, GitHub Pages.'); return false;">Info</a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </header>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <main>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <section class="hero">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <h1 class="title">Convert JPEGs to PNGs ‚Äî fast, offline, and stylish</h1>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <p class="subtitle">Drop your JPEG/JPG files below. Your images are processed locally in your browser; nothing is uploaded to a server.</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </section>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <section class="card">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div class="grid">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <div id="dropzone" class="dropzone">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <input id="fileInput" type="file" accept=".jpg,.jpeg,image/jpeg" multiple />
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <div class="dz-inner">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <div class="dz-title">Drag & drop JPEGs here</div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <div class="dz-help">or click to select files from your device</div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <div class="actions">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <button id="convertBtn" class="btn primary" disabled>Convert to PNG</button>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <button id="clearBtn" class="btn" disabled>Clear</button>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </div>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <div class="panel">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <h3>Selected files</h3>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div id="selectedList" class="list"></div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </div>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div class="panel" style="margin-top:16px">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <h3>Converted PNGs</h3>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div id="outputList" class="list"></div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </section>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </main>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <footer>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <p class="note">Tip: Use <span class="kbd">Ctrl</span> + <span class="kbd">O</span> to open files quickly on desktop. Large images convert best on modern browsers.</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </footer>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  const fileInput = document.getElementById('fileInput');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      const dropzone = document.getElementById('dropzone');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          const convertBtn = document.getElementById('convertBtn');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              const clearBtn = document.getElementById('clearBtn');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  const selectedList = document.getElementById('selectedList');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      const outputList = document.getElementById('outputList');

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          let files = [];

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              function isJpeg(file){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    const nameOk = /\.jpe?g$/i.test(file.name);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          const typeOk = /image\/jpeg/i.test(file.type);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                return nameOk || typeOk;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        function resetUI(){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              files = [];
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    selectedList.innerHTML = '';
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          outputList.innerHTML = '';
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                convertBtn.disabled = true;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      clearBtn.disabled = true;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              function renderSelected(){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    selectedList.innerHTML = '';
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          if(!files.length){ return; }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                files.forEach((file, idx) => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const url = URL.createObjectURL(file);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                const item = document.createElement('div');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        item.className = 'item';
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                item.innerHTML = `
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <div class="thumb"><img src="${url}" alt="preview"></div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div class="meta">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <div class="name" title="${file.name}">${file.name}</div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <small>${(file.size/1024).toFixed(1)} KB</small>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      </div>`;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              selectedList.appendChild(item);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          convertBtn.disabled = false;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                clearBtn.disabled = false;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        function handleFiles(fileList){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              const arr = Array.from(fileList).filter(isJpeg);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    if(arr.length === 0){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            alert('Please select JPEG/JPG files.');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    return;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                files = arr;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      renderSelected();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              fileInput.addEventListener('change', (e) => handleFiles(e.target.files));

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  // Drag & drop
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ['dragenter','dragover'].forEach(ev => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            dropzone.addEventListener(ev, (e)=>{
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    e.preventDefault(); e.stopPropagation();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            dropzone.style.borderColor = 'var(--accent2)';
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ['dragleave','drop'].forEach(ev => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                dropzone.addEventListener(ev, (e)=>{
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        e.preventDefault(); e.stopPropagation();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                dropzone.style.borderColor = 'rgba(124,92,255,.45)';
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              dropzone.addEventListener('drop', (e)=>{
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    const dt = e.dataTransfer;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          if(dt && dt.files){ handleFiles(dt.files); }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              });

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  clearBtn.addEventListener('click', resetUI);

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      convertBtn.addEventListener('click', async ()=>{
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            if(!files.length) return;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  outputList.innerHTML = '';

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        for(const file of files){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                try{
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          const dataUrl = await jpegToPng(file);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    const pngName = file.name.replace(/\.jpe?g$/i, '') + '.png';

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              const item = document.createElement('div');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        item.className = 'item';
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  item.innerHTML = `
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <div class="thumb"><img src="${dataUrl}" alt="converted preview"></div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <div class="meta">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div class="name" title="${pngName}">${pngName}</div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <a class="dl" href="${dataUrl}" download="${pngName}">Download PNG</a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </div>`;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            outputList.appendChild(item);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }catch(err){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              console.error(err);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        alert('Failed to convert: ' + file.name);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          });

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              function jpegToPng(file){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    return new Promise((resolve, reject)=>{
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            const reader = new FileReader();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    reader.onload = () => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              const img = new Image();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        img.onload = () => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    const canvas = document.createElement('canvas');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                canvas.width = img.naturalWidth;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            canvas.height = img.naturalHeight;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const ctx = canvas.getContext('2d');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ctx.drawImage(img, 0, 0);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                try{
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              const dataUrl = canvas.toDataURL('image/png');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            resolve(dataUrl);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }catch(err){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      reject(err);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            };
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      img.onerror = reject;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                img.src = reader.result;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        };
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                reader.onerror = reject;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        reader.readAsDataURL(file);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </html>